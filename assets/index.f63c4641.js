import{p as r}from"./vendor.15fcc682.js";const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}};x();const N=(o,e,c="three-container")=>{const i=document.createElement("canvas");return i.width=o,i.height=e,i.className=c,document.body.appendChild(i),i},O=(o,e,c)=>{const i=[c.clone().add(new r.Point(o,-o)),c.clone().add(new r.Point(o,o)),c.clone().add(new r.Point(-o,o)),c.clone().add(new r.Point(-o,-o))],t=[];return[[i[0],i[1]],[i[1],i[2]],[i[2],i[3]],[i[3],i[0]]].map(s=>{t.push(s[0]);const d=s[1].x-s[0].x,f=s[1].y-s[0].y;for(let n=0;n<e;n++)t.push(new r.Point(s[0].x+n/e*d,s[0].y+n/e*f))}),t},u=(o,e,c)=>{if(c<0||c>1)throw"force must be in range [0.0, 1.0]";const i=e.subtract(o);return new r.Point(o.x+c*i.x,o.y+c*i.y)},S=(o,e,c,i,t)=>(o-e)*(t-i)/(c-e)+i,g=(o,e)=>S(Math.random(),0,1,o,e),m=(o,e)=>(o=Math.ceil(o),e=Math.floor(e),Math.floor(Math.random()*(e-o+1))+o),P="dg2d-container",E=3,T=.9,v=.5,I=.5,w=E*2,b=2,A=()=>{const o=N(window.innerWidth,window.innerHeight,P);r.setup(o);let e=!0;new r.PointText({point:new r.Point(r.view.viewSize.width/10,r.view.viewSize.height/5),content:"Differential growth",justification:"left",fontSize:36});const c=new r.PointText({point:new r.Point(r.view.viewSize.width/10,r.view.viewSize.height/5+50),justification:"left",fontSize:24}),i=O(50,50,r.view.center),t=new r.Path({strokeColor:"black"});t.add(...i),t.closePath(),r.view.onFrame=d=>{if(!e)return;t.segments.forEach(n=>{[n.previous,n.next].forEach(p=>{const h=u(n.point,p.point,T);n.point.x=h.x,n.point.y=h.y}),t.segments.filter(p=>p!=n).forEach(p=>{if(n.point.getDistance(p.point)<E){const y=n.point.subtract(p.point);n.point.x+=y.x*v,n.point.y+=y.y*v}});const l=u(n.previous.point,n.next.point,.5),a=u(n.point,l,I);n.point.x=a.x,n.point.y=a.y});const f=[];if(t.curves.forEach((n,l)=>{if(n.point1.getDistance(n.point2)>w&&f.every(a=>a.point.getDistance(n.point1)<w&&a.point.getDistance(n.point2)<w)){const a=n.getPointAtTime(.5);f.push({index:l+1,point:a})}}),f.forEach(n=>t.insert(n.index,n.point)),d.count%b==1){const n=m(0,t.segments.length-1),l=t.segments[n],a=u(l.point,l.next.point,g(0,1));t.insert(n,a)}c.content=`nodes: ${t.segments.length.toString()}`},(()=>{document.addEventListener("keydown",d=>{if([" ","Spacebar"].includes(d.key)&&(e=!e),["s"].includes(d.key)){e=!e,r.project.exportSVG({bounds:"view"});debugger}})})()};A();
//# sourceMappingURL=index.f63c4641.js.map
